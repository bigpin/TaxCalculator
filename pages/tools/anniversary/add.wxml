<view class="container">
  <view class="form-section">
    <view class="title">基本信息</view>
    
    <t-input
      label="纪念日名称"
      placeholder="请输入纪念日名称"
      value="{{formData.name}}"
      bind:change="onNameChange"
      maxlength="20"
      tips="{{nameError ? '请输入纪念日名称' : ''}}"
      t-class-tips="tips"
    />

    <picker
      mode="date"
      value="{{formData.date}}"
      start="{{minDate}}"
      bindchange="onDateChange"
    >
      <t-cell
        title="日期"
        arrow
        hover
        note="{{formData.date || '请选择日期'}}"
      />
    </picker>

    <t-cell
      title="类型"
      arrow
      hover
      note="{{formData.typeName || '请选择类型'}}"
      bind:click="onTypePickerClick"
    />
    <t-picker
      visible="{{typePickerVisible}}"
      value="{{[typeIndex]}}"
      title="选择类型"
      cancelBtn="取消"
      confirmBtn="确认"
      bindchange="onTypeChange"
      bindcancel="onTypePickerCancel"
    >
      <t-picker-item options="{{typeOptions}}"></t-picker-item>
    </t-picker>
  </view>

  <view class="form-section">
    <view class="title">备注信息</view>
    <t-textarea
      placeholder="可选，添加备注信息"
      value="{{formData.note}}"
      bind:change="onNoteChange"
      maxlength="100"
      autosize
    />
  </view>

  <view class="button-group">
    <t-button
      theme="primary"
      block
      size="large"
      bind:tap="onSave"
      loading="{{saving}}"
    >
      {{isEdit ? '保存修改' : '添加纪念日'}}
    </t-button>
  </view>
</view>
